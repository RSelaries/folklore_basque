[gd_scene load_steps=21 format=3 uid="uid://b34nuooo7qyin"]

[ext_resource type="Texture2D" uid="uid://bmrj2p7v3jdlj" path="res://assets/textures/hdri_mountains.jpg" id="1_tdv7n"]
[ext_resource type="PackedScene" uid="uid://cxrdpo22t70" path="res://player_fps_controller/player_fps_controller.tscn" id="2_1x2yb"]
[ext_resource type="Shader" uid="uid://bonaulx70xij0" path="res://assets/shaders/psx_dithering.gdshader" id="4_1ha4h"]
[ext_resource type="Texture2D" uid="uid://c6wrw3ohqu3s7" path="res://assets/textures/material_textures/rock_53/Rock_53_2k_packed_albedo_height.png" id="4_wvelf"]
[ext_resource type="Texture2D" uid="uid://cmkffb1xy66r7" path="res://assets/textures/material_textures/rock_53/Rock_53_2k_packed_normal_roughness.png" id="5_rtgyo"]
[ext_resource type="Texture2D" uid="uid://e5tsckrxy016" path="res://assets/textures/material_textures/grass_03/Grass003_2k_packed_albedo_height.png" id="6_wvelf"]
[ext_resource type="Texture2D" uid="uid://cnchgw3iqqemx" path="res://assets/textures/material_textures/grass_03/Grass003_2k_packed_normal_roughness.png" id="7_rtgyo"]

[sub_resource type="PanoramaSkyMaterial" id="PanoramaSkyMaterial_1ha4h"]
panorama = ExtResource("1_tdv7n")

[sub_resource type="Sky" id="Sky_6qr2i"]
sky_material = SubResource("PanoramaSkyMaterial_1ha4h")

[sub_resource type="Environment" id="Environment_1ha4h"]
background_mode = 2
sky = SubResource("Sky_6qr2i")
ambient_light_source = 1
ambient_light_color = Color(0.150887, 0.167748, 0.0120865, 1)
reflected_light_source = 1
tonemap_mode = 2

[sub_resource type="Gradient" id="Gradient_6qr2i"]
offsets = PackedFloat32Array(0.2, 1)
colors = PackedColorArray(1, 1, 1, 1, 0, 0, 0, 1)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_hjp1y"]
noise_type = 2
frequency = 0.03
cellular_jitter = 3.0
cellular_return_type = 0
domain_warp_enabled = true
domain_warp_type = 1
domain_warp_amplitude = 50.0
domain_warp_fractal_type = 2
domain_warp_fractal_lacunarity = 1.5
domain_warp_fractal_gain = 1.0

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_wvelf"]
seamless = true
color_ramp = SubResource("Gradient_6qr2i")
noise = SubResource("FastNoiseLite_hjp1y")

[sub_resource type="Terrain3DMaterial" id="Terrain3DMaterial_rtgyo"]
_shader_parameters = {
&"auto_base_texture": 0,
&"auto_height_reduction": 0.082,
&"auto_overlay_texture": 1,
&"auto_slope": 0.464,
&"bias_distance": 512.0,
&"blend_sharpness": 0.87,
&"depth_blur": 0.0,
&"enable_macro_variation": true,
&"enable_projection": true,
&"height_blending": true,
&"macro_variation1": Color(0.79, 0.610933, 0.2528, 1),
&"macro_variation2": Color(0.5795, 0.95, 0.919125, 1),
&"macro_variation_slope": 0.333,
&"mipmap_bias": 1.0,
&"noise1_angle": 0.0,
&"noise1_offset": Vector2(0.5, 0.5),
&"noise1_scale": 0.04,
&"noise2_scale": 0.076,
&"noise3_scale": 0.225,
&"noise_texture": SubResource("NoiseTexture2D_wvelf"),
&"projection_angular_division": 2.0,
&"projection_threshold": 0.8,
&"world_space_normal_blend": true
}
world_background = 0
auto_shader = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_tdaeo"]
transparency = 4
cull_mode = 2
vertex_color_use_as_albedo = true
backlight_enabled = true
backlight = Color(0.5, 0.5, 0.5, 1)
distance_fade_mode = 1
distance_fade_min_distance = 128.0
distance_fade_max_distance = 96.0

[sub_resource type="Terrain3DMeshAsset" id="Terrain3DMeshAsset_myhl5"]
generated_type = 1
height_offset = 0.5
material_override = SubResource("StandardMaterial3D_tdaeo")
last_lod = 0
last_shadow_lod = 0
lod0_range = 128.0

[sub_resource type="Terrain3DTextureAsset" id="Terrain3DTextureAsset_71vj1"]
name = "Rock_53_2k_packed_albedo_height"
albedo_color = Color(0.917058, 0.979337, 0.71464, 1)
albedo_texture = ExtResource("4_wvelf")
normal_texture = ExtResource("5_rtgyo")
normal_depth = 0.893
roughness = 0.164
detiling_rotation = 0.738
detiling_shift = 0.135

[sub_resource type="Terrain3DTextureAsset" id="Terrain3DTextureAsset_tdaeo"]
name = "GrassIdk"
id = 1
albedo_color = Color(0.868985, 0.868985, 0.868985, 1)
albedo_texture = ExtResource("6_wvelf")
normal_texture = ExtResource("7_rtgyo")
roughness = 0.293

[sub_resource type="Terrain3DAssets" id="Terrain3DAssets_71vj1"]
mesh_list = Array[Terrain3DMeshAsset]([SubResource("Terrain3DMeshAsset_myhl5")])
texture_list = Array[Terrain3DTextureAsset]([SubResource("Terrain3DTextureAsset_71vj1"), SubResource("Terrain3DTextureAsset_tdaeo")])

[sub_resource type="ShaderMaterial" id="ShaderMaterial_6qr2i"]
shader = ExtResource("4_1ha4h")
shader_parameter/enabled = true
shader_parameter/dithering = true
shader_parameter/colors = 12
shader_parameter/dither_size = 2

[node name="Prototype1" type="Node3D"]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.635984, -0.60974, 0.473014, -2.98023e-08, 0.612948, 0.790123, -0.771702, -0.502505, 0.389825, 0, 0, 0)
light_color = Color(0.78778, 0.849289, 0.807934, 1)
light_energy = 1.291
shadow_enabled = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_1ha4h")

[node name="Terrain3D" type="Terrain3D" parent="."]
data_directory = "res://scenes/prototype_1/terrain_3d"
material = SubResource("Terrain3DMaterial_rtgyo")
assets = SubResource("Terrain3DAssets_71vj1")
top_level = true
metadata/_edit_lock_ = true

[node name="PlayerFpsController" parent="." instance=ExtResource("2_1x2yb")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 15.7428, 0)
walking_speed = 5.0
mouse_sensitivity = 0.25

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="ColorRect" type="ColorRect" parent="CanvasLayer"]
material = SubResource("ShaderMaterial_6qr2i")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
